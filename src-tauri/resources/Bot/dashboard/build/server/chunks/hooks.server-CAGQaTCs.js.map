{"version":3,"file":"hooks.server-CAGQaTCs.js","sources":["../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["async function handle({ event, resolve }) {\n  const req = event.platform?.req;\n  const bot = req?.bot;\n  const dashboard = req?.dashboard;\n  if (req?.session?.user) {\n    event.locals.user = req.session.user;\n    event.locals.isAdmin = req.session.isAdmin;\n    event.locals.guilds = req.session.guilds;\n  }\n  event.locals.bot = bot;\n  event.locals.dashboard = dashboard;\n  if (!event.locals.user && (event.url.pathname.startsWith(\"/guild/\") || event.url.pathname.startsWith(\"/_app/\") || [\"/\", \"/admin/add\", \"/admin/delete\"].includes(event.url.pathname))) {\n    let origin = event.url.origin;\n    if (origin.startsWith(\"https://localhost\")) origin = origin.replace(\"https://\", \"http://\");\n    const loginUrl = new URL(\"/auth/login\", origin);\n    return Response.redirect(loginUrl.toString(), 302);\n  }\n  return resolve(event);\n}\nexport {\n  handle\n};\n"],"names":[],"mappings":"AAAA,eAAe,MAAM,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE;AAC1C,EAAE,MAAM,GAAG,GAAG,KAAK,CAAC,QAAQ,EAAE,GAAG;AACjC,EAAE,MAAM,GAAG,GAAG,GAAG,EAAE,GAAG;AACtB,EAAE,MAAM,SAAS,GAAG,GAAG,EAAE,SAAS;AAClC,EAAE,IAAI,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE;AAC1B,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI;AACxC,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO;AAC9C,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM;AAC5C,EAAE;AACF,EAAE,KAAK,CAAC,MAAM,CAAC,GAAG,GAAG,GAAG;AACxB,EAAE,KAAK,CAAC,MAAM,CAAC,SAAS,GAAG,SAAS;AACpC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,KAAK,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,YAAY,EAAE,eAAe,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE;AACxL,IAAI,IAAI,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,MAAM;AACjC,IAAI,IAAI,MAAM,CAAC,UAAU,CAAC,mBAAmB,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,UAAU,EAAE,SAAS,CAAC;AAC9F,IAAI,MAAM,QAAQ,GAAG,IAAI,GAAG,CAAC,aAAa,EAAE,MAAM,CAAC;AACnD,IAAI,OAAO,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC;AACtD,EAAE;AACF,EAAE,OAAO,OAAO,CAAC,KAAK,CAAC;AACvB;;;;"}